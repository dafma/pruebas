{% load humanize %}
{% load staticfiles %}
{% include "base.html" %}
{% block addcss%}
    <style>
        /* The heart of the matter */
        .testimonial-group > .row {
          overflow-x: auto;
          white-space: nowrap;


        }
        .testimonial-group > .row > .col-md-1 {
          display: inline-block;
            float: inherit;

        }
        /* Decorations */
        .col-md-1 {

            color: #080808;
            padding-bottom: 43.5%;

        }
            * {
            /* -webkit-box-sizing: border-box; */
            -moz-box-sizing: border-box;
            /* box-sizing: border-box; */
        }
    .reads{
        /* position: absolute;
        width: 100%;
        height: 100%; */
        position: absolute;
        top:0;

    }
    ._24{
        background-color: #2196F3;
    }
        ul#menu li {
        display:inline;
    }
    .C01{
        background-color: #f48fb1;
    }
    .C04{
       background-color: #B39DDB;
    }
    .C03{
        background-color: #BBDEFB;
    }
    .xbC01{
        background-color: #f48fb1;
    }
    .xbC04{
       background-color: #B39DDB;
    }
    .xbC03{
        background-color: #BBDEFB;
    }
    .btn-azul{
        background-color: #2962FF;
        color: #FFFFFF;
    }
    .btn-morado{
        background-color: #6A1B9A;
        color: #FFFFFF;
    }
    .btn-naranja{
        background-color: #FF9800;
        color: #FFFFFF;
    }
        .btn-rosa{
        background-color: #E91E63;
        color: #FFFFFF;
    }
    .btn-todos{
        background-color: #F44336;
        color: #ffffff;
    }
    .colormes{
        background-color: #004d40;
        color: #cccccc;
    }
    .colormesatrasado{
               background-color: #F44336;
        color: #cccccc;
    }
    .navbar-default {
        background-color: #004d40;
        border-color: #004d40;
    }
    </style>
    <style type="text/css">
    .emphasis
    {
        border-top: 4px solid transparent;
        }
    .emphasis:hover
    {
        border-top: 4px solid #1abc9c;
        }
    .emphasis h2
    {
        margin-bottom:0;
        }
    .emphasisa
    {
        border-top: 4px solid transparent;
        }
    .emphasisa:hover
    {
        border-top: 4px solid #1a41bc;
        }
    .emphasisa h2
    {
        margin-bottom:0;
        }
    .backorderc{
        -webkit-column-count: 3; /* Chrome, Safari, Opera */
        -moz-column-count: 3; /* Firefox */
        column-count: 3;
        -webkit-column-gap: 40px; /* Chrome, Safari, Opera */
        -moz-column-gap: 40px; /* Firefox */
        column-gap: 40px;
        -webkit-column-rule-style: solid; /* Chrome, Safari, Opera */
        -moz-column-rule-style: solid; /* Firefox */
        column-rule-style: solid;
            word-spacing: 1rem;
    }
        .emphasisv
    {
        border-top: 4px solid transparent;
        }
    .emphasisv:hover
    {
        border-top: 4px solid #32bc0d;
        }
    .emphasisv h2
    {
        margin-bottom:0;
        }
        .emphasisr
    {
        border-top: 4px solid transparent;
        }
    .emphasisr:hover
    {
        border-top: 4px solid #bc1b1a;
        }
    .emphasisr h2
    {
        margin-bottom:0;
        }
        .emphasisam
    {
        border-top: 5px solid transparent;
        }
    .emphasisam:hover
    {
        border-top: 5px solid #FFFF00;
        }
    .emphasisam h2
    {
        margin-bottom:0;
        }
    span.tags
    {
        background: #1abc9c;
        color: #f5f5f5;
        }
    .dropdown-menu .divider
    {
        background:none;
        }
    .dropdown-menu>li>a
    {
        color:#f5f5f5;
        }
    .dropup .dropdown-menu
    {  margin-bottom:10px;
    }
    .label-warning {
    background-color: #f0b431;
}
    .salto{
        word-spacing: 30000px;
    text-align: center;
    position: relative;
    display: inline-block;

        column-count: 3;
    }
    th{
           text-align: center;
            font-size: large;
            background-color: #004d40;
            color: #cccccc;
        }

    </style>
{% endblock %}
{% block tabla %}
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <a class="navbar-brand" href="#">INTERAUTO</a>
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">Action</a></li>
            <li><a href="#">Another action</a></li>
            <li><a href="#">Something else here</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#">Separated link</a></li>
          </ul>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
    <div class="row">
              <!-- Tab panes -->
               <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active" id="enforma">
                            <div class="row">
                                <div class="col-md-4">
                                    <button type="button" class="btn btn-link" ></button>
                                    <button type="button" class="btn btn-link"></button>
                                    <a type="button" class="btn btn-info" href="/panel1/">En Forma</a>
                                    <a type="button" class="btn btn-info" href="/panel1/retrasos/">Retrasos</a>
                                </div>
                                <div class="col-md-4">
                                        <div class="btn-group btn-group-lg">
                                            <button type="button" class="btn btn-todos control" data-filter="all">TODOS</button>
                                            <button type="button" class="btn btn-rosa control"  data-filter=".C01">C01</button>
                                            <button type="button" class="btn btn-azul control" data-filter=".C03">C03</button>
                                            <button type="button" class="btn btn-morado control" data-filter=".C04">C04</button>
                                            <button type="button" class="btn btn-link control" data-filter=".DX">DX</button>
                                        </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="btn-group btn-group-lg">
                                            <a type="button" class="btn btn-success" href="{% url 'sqlViewenForma' %}" target="_blank"><i class="fa fa-file-excel-o" aria-hidden="true"></i>  Excel</a>
                                    </div>
                                </div>
                            </div>
                            <hr>
                    </div>
                </div>
    </div>
    <div class="filtroreads">
        <div class="testimonial-group">
            <div class="row text-center ">
                    {% regroup enforma by SemanaDelYear  as semana_list %}
                    {% for SemanaDelYear in semana_list  %}
                        <div class="col-md-1" >
                            <table class="table reads" >
                                <tr>
                                    <th class="cabecera" >{{ SemanaDelYear.grouper }}</th>
                                <tr>
                                {% for foo in SemanaDelYear.list %}
                                    <tr>
                                    {% regroup foo by fo.Agente as agente_list %}
                                        <td class="mix {{foo.Agente}}  {% if "-DX" in  foo.Referencia %} DX {% else %} nel {% endif %}" data-toggle="modal" data-target="#{{foo.MovID}}{{foo.Referencia }}" >
                                            <div class="modal fade {{foo.Referencia }}" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
                                                  <div class="modal-dialog" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                                            <h2 class="modal-title" id="myModalLabel"> <strong> Detalles  {{ foo.Referencia }}</strong></h2>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="row">
                                                                <div class="col-xs-12  col-sm-12 divider text-center">
                                                                    <div class="col-sm-4 emphasis">
                                                                        <h2><strong>{{ foo.MovID }}</strong></h2>
                                                                        <p><small>COM del Movimiento</small></p>
                                                                    </div>
                                                                    <div class="col-sm-4 emphasis">
                                                                        <h2><strong>{{ foo.FechaRequerida }}</strong></h2>
                                                                        <p><small>Fecha Requerida</small></p>
                                                                    </div>
                                                                    <div class="col-sm-4 emphasis">
                                                                        <h3></h3>
                                                                        <h2><strong>{{ foo.FechaEntrega }}</strong></h2>
                                                                        <p><small>Fecha de Entrega</small></p>
                                                                    </div>
                                                                </div>
                                                                <div class=" divider text-center">
                                                                    <div class="col-xs-12 col-sm-4 emphasis">
                                                                        <h3></h3>
                                                                        <h2><strong>$ {{ foo.Importe|floatformat:2|intcomma  }}
                                                                            {% if foo.Saldo != None %}
                                                                            Pendiente ${{ foo.Saldo|floatformat:2|intcomma }}
                                                                                {% else %}
                                                                             Pendiente $ 0.00
                                                                            {% endif %}
                                                                             </strong></h2>
                                                                        <p><small>Importe</small></p>
                                                                    </div>
                                                                    <div class=" col-sm-4 emphasis">
                                                                        <h2><strong>{{ foo.FormaEntrega }}</strong></h2>
                                                                        <p><small>Forma de Entrega</small></p>
                                                                    </div>
                                                                    <div class=" col-sm-4 emphasis">
                                                                        <h2><strong>{{ foo.PIEZAS }}</strong></h2>
                                                                        <p><small>Numero de Piezas</small></p>
                                                                    </div>
                                                                </div>
                                                                <div class=" divider text-center">
                                                                    {% if foo.BACKORDER != None %}
                                                                        <div class="col-xs-3 col-sm-3 col-md-3 emphasisa">
                                                                            <div class="salto">
                                                                                <h6><strong>{{ foo.BACKORDER  }} </strong></h6>
                                                                            </div>
                                                                            <br>
                                                                            <p><small>Back Order</small></p>
                                                                        </div>
                                                                    {% endif %}
                                                                    {% if foo.FECHAORIGINAL != None %}
                                                                        <div class="col-xs-3 col-sm-3 col-md-3 emphasisr">
                                                                            <h4><strong>{{ foo.FECHAORIGINAL}} </strong></h4>
                                                                            <p><small>Fecha Original</small></p>
                                                                        </div>
                                                                    {% endif %}
                                                                    {% if foo.PENDIENTES != None %}
                                                                        <div class="col-xs-3 col-sm-3 col-md-3 emphasisv">
                                                                            <div class="salto">
                                                                                  <h5><strong>{{ foo.PENDIENTES|linebreaksbr }} </strong></h5>
                                                                            </div>
                                                                            <br>
                                                                            <p><small>Pendientes</small></p><br>

                                                                        </div>
                                                                    {% endif %}
                                                                    {% if foo.ESPECIAL != None %}
                                                                        <div class="col-xs-3 col-sm-3 col-md-3 emphasisam">
                                                                            <h3></h3>
                                                                            <h6><strong>{{ foo.ESPECIAL }} </strong></h6>
                                                                            <br>
                                                                            <p><small>Especial</small></p>
                                                                        </div>
                                                                    {% endif %}
                                                                </div>
                                                            </div>

                                                        </div>
                                                         <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                                                          </div>
                                                    </div>
                                                  </div>
                                            </div>
                                            <button type="button" class="btn {{ foo.Agente }}" data-toggle="modal" data-target=".{{foo.Referencia }}">
                                                {% if "-DX" in  foo.Referencia %}
                                                    <i class="fa fa-gift" aria-hidden="true"></i>
                                                {% endif %}
                                            {{ foo.Referencia }}</button>
                                                <div class="row">
                                                    {% if foo.BACKORDER != None %}
                                                        <span class="label label-primary">.</span>
                                                    {% endif %}
                                                    {% if foo.FECHAORIGINAL != None %}
                                                        <span class="label label-danger">.</span>
                                                    {% endif %}
                                                    {% if foo.PENDIENTES != None %}
                                                        <span class="label label-success">.</span>
                                                    {% endif %}
                                                    {% if foo.ESPECIAL != None %}
                                                        <span class="label label-warning">.</span>
                                                    {% endif %}
                                                </div>
                                        </td>
                                    </tr>
                                {% endfor %}
                            </table>
                        </div>
                    {% endfor %}
               </div>
          </div>
        </div>
    </div>


{% endblock %}
{% block addjs %}
  <script src="{% static "mixitup.min.js" %}"></script>
    <script>
            var containerEl = document.querySelector('.filtroreads');
            var mixer = mixitup(containerEl);
    </script>
    <script>
            var containerEl = document.querySelector('.readsa');
            var mixer = mixitup(containerEl);
    </script>
{% endblock %}